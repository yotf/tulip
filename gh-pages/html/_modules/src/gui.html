<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>src.gui &mdash; src  documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="src  documentation" href="../../index.html" />
    <link rel="up" title="Module code" href="../index.html" /> 
  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../../index.html"><img src="../../_static/logo.png" border="0" alt="py4sci"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>

          <li><a href="../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for src.gui</h1><div class="highlight"><pre>
<span class="c">#!/usr/bin/python</span>
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">=================================================================</span>
<span class="sd">Opis aplikacije....</span>
<span class="sd">=================================================================</span>
<span class="sd">   </span>
<span class="sd">Usage:</span>
<span class="sd">    tulip.py [SIMDIR]</span>
<span class="sd">    tulip.py -h | --help</span>
<span class="sd">Arguments:</span>
<span class="sd">    SIMDIR     Path to sim directory</span>
<span class="sd">Options:</span>
<span class="sd">    -h --help</span>
<span class="sd">&quot;&quot;&quot;</span>
   

<span class="c">#from . mvc import Choices,ChoicesConverter,FileManager</span>
<span class="kn">import</span> <span class="nn">wxversion</span>
<span class="n">wxversion</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s">&#39;2.8&#39;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">wx</span>

<span class="kn">import</span> <span class="nn">wx.lib.colourselect</span> <span class="kn">as</span> <span class="nn">csel</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">gui</span>
<span class="k">print</span> <span class="n">__package__</span>
<span class="n">PACKAGE_ABS_PATH</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">gui</span><span class="o">.</span><span class="n">__file__</span><span class="p">))</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">PACKAGE_ABS_PATH</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">mvc</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">join</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">widgets</span>   
   
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s">&#39;WXAgg&#39;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">matplotlib.figure</span> <span class="kn">import</span> <span class="n">Figure</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">cm</span>
   
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_wxagg</span> <span class="kn">import</span> <span class="n">FigureCanvasWxAgg</span> <span class="k">as</span> <span class="n">FigCanvas</span><span class="p">,</span> \
    <span class="n">NavigationToolbar2WxAgg</span> <span class="k">as</span> <span class="n">NavigationToolbar</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pylab</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span>
<span class="kn">from</span> <span class="nn">simp_zoom</span> <span class="kn">import</span> <span class="n">zoom_factory</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">cycle</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>   
<span class="kn">from</span> <span class="nn">matplotlib.widgets</span> <span class="kn">import</span> <span class="n">RectangleSelector</span>
<span class="kn">from</span> <span class="nn">matplotlib.lines</span> <span class="kn">import</span> <span class="n">Line2D</span>

<span class="c">#!!!Ove napravi kao dictionaryje. i nesto da mogu da se kombinuju</span>
<span class="c">#nem pojma. da moze da se menja, znaci neka struktura koja ce se u zavisnosti</span>
<span class="c">#od parametra ce advancovati jedan cycle++, od bilo koji od ovih</span>
<span class="c">#znaci bice neki parameter dict i bice po jedan fmt cycle</span>
<span class="c">#za svaki od njih</span>
<span class="n">fmt_strings</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;g+-&#39;</span><span class="p">,</span><span class="s">&#39;r*-&#39;</span><span class="p">,</span><span class="s">&#39;bo-&#39;</span><span class="p">,</span><span class="s">&#39;y+-&#39;</span><span class="p">]</span>
<span class="n">linestyle_cycle</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">Line2D</span><span class="o">.</span><span class="n">lineStyles</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="n">markers_cycle</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">Line2D</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="n">fillstyle_cycle</span><span class="o">=</span><span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Line2D</span><span class="o">.</span><span class="n">markers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">*</span> <span class="n">Line2D</span><span class="o">.</span><span class="n">fillStyles</span><span class="p">)</span>
<span class="n">fmt_cycle</span> <span class="o">=</span> <span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="n">fmt_strings</span><span class="p">)</span>
<span class="n">color_cycle</span><span class="o">=</span><span class="n">itertools</span><span class="o">.</span><span class="n">cycle</span><span class="p">([(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">),(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">)])</span>
<span class="c">#logging_level = logging.DEBUG if os.getenv(&#39;TULIP_DEBUG&#39;) else logging.WARNING</span>
<span class="n">logging_level</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span> 
        
        
<div class="viewcode-block" id="ScatterPanel"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel">[docs]</a><span class="k">class</span> <span class="nc">ScatterPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="n">xlabel</span> <span class="o">=</span> <span class="s">&#39;Mx&#39;</span>    
    <span class="n">ylabel</span> <span class="o">=</span> <span class="s">&#39;My&#39;</span>
    <span class="n">zlabel</span> <span class="o">=</span> <span class="s">&#39;Mz&#39;</span>
    <span class="n">all_data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">ylim</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">xlim</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">chk_mc_txt</span> <span class="o">=</span> <span class="s">&quot;Show first </span><span class="si">%d</span><span class="s"> SPs&quot;</span>
    <span class="n">firstn</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">parent</span><span class="p">,</span><span class="n">controller</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">controller</span>
        
        <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span><span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>

        <span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging_level</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">&quot;ScatterPanel&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tooltip</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ToolTip</span><span class="p">(</span><span class="s">&quot;&#39;n&#39;:next</span><span class="se">\n</span><span class="s">&#39;p&#39;:previous</span><span class="se">\n</span><span class="s">scroll:zoom&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tooltip</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="n">fig_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span>
        <span class="n">fig_height</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span><span class="p">)</span> <span class="o">*</span> <span class="mf">3.2</span> <span class="o">/</span> <span class="mf">4.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;fig width:{} fig height:{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fig_width</span><span class="p">,</span><span class="n">fig_height</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="n">fig_width</span><span class="p">,</span><span class="n">fig_height</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dpi</span><span class="p">,</span><span class="n">facecolor</span><span class="o">=</span><span class="s">&#39;white&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigCanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">)</span>
        <span class="c"># self.ax = Axes3D(self.fig)</span>
        <span class="c">#self.ax_3d = self.fig.add_subplot(121,projection=&quot;3d&quot;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="n">projection</span><span class="o">=</span><span class="s">&quot;3d&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mf">0.53</span><span class="p">,</span><span class="mf">0.55</span><span class="p">,</span><span class="mf">0.40</span><span class="p">,</span><span class="mf">0.43</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_qq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mf">0.53</span><span class="p">,</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.40</span><span class="p">,</span><span class="mf">0.43</span><span class="p">])</span>
              

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetToolTip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tooltip</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s">&#39;key_press_event&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_key_press</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s">&#39;figure_enter_event&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_figure_enter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">zoomf</span> <span class="o">=</span> <span class="n">zoom_factory</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selector</span> <span class="o">=</span> <span class="n">RectangleSelector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">selector_callback</span><span class="p">,</span>
                             <span class="n">drawtype</span><span class="o">=</span><span class="s">&#39;box&#39;</span><span class="p">,</span> <span class="n">useblit</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
                             <span class="n">button</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="c"># don&#39;t use middle button</span>
                             <span class="n">minspanx</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">minspany</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                             <span class="n">spancoords</span><span class="o">=</span><span class="s">&#39;pixels&#39;</span><span class="p">)</span>
   
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span><span class="o">.</span><span class="n">mouse_init</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_gui</span><span class="p">()</span>

<div class="viewcode-block" id="ScatterPanel.selector_callback"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.selector_callback">[docs]</a>    <span class="k">def</span> <span class="nf">selector_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">eclick</span><span class="p">,</span><span class="n">erelease</span><span class="p">):</span>
        <span class="n">x_begin</span> <span class="o">=</span> <span class="n">eclick</span><span class="o">.</span><span class="n">xdata</span>
        <span class="n">x_end</span> <span class="o">=</span> <span class="n">erelease</span><span class="o">.</span><span class="n">xdata</span>
        <span class="k">if</span> <span class="n">x_begin</span> <span class="o">&gt;</span> <span class="n">x_end</span><span class="p">:</span>
            <span class="n">x_begin</span><span class="p">,</span><span class="n">x_end</span> <span class="o">=</span> <span class="n">x_end</span><span class="p">,</span><span class="n">x_begin</span>
        <span class="c"># znaci bice true ako se ne nalazi u ovoj regiji</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;x_begin {} x_end {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x_begin</span><span class="p">,</span><span class="n">x_end</span><span class="p">))</span>
                       
        <span class="n">booli</span> <span class="o">=</span> <span class="p">[</span> <span class="ow">not</span> <span class="p">(</span><span class="n">mag</span><span class="o">&gt;=</span><span class="n">x_begin</span> <span class="ow">and</span> <span class="n">mag</span><span class="o">&lt;=</span><span class="n">x_end</span><span class="p">)</span> <span class="k">for</span> <span class="n">mag</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">magt</span> <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;booli:</span><span class="se">\n</span><span class="s"> </span><span class="si">%s</span><span class="s">&quot;</span><span class="p">,</span><span class="n">booli</span><span class="p">)</span>
        <span class="c">#znaci prosledjujemo mu za sta da generise mat</span>
        <span class="n">curr_t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">temprs</span><span class="o">.</span><span class="n">curr</span><span class="p">()</span>
        <span class="n">curr_l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>

        <span class="n">dir_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">remove_faulty</span><span class="p">(</span><span class="n">dir_</span><span class="p">,</span><span class="n">curr_l</span><span class="p">,</span><span class="n">curr_t</span><span class="p">,</span><span class="n">booli</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="s">&quot;dummy&quot;</span><span class="p">,</span><span class="n">curr</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">booli</span><span class="o">=</span><span class="n">booli</span><span class="p">)</span>
        
    </div>
<div class="viewcode-block" id="ScatterPanel.change_dist"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.change_dist">[docs]</a>    <span class="k">def</span> <span class="nf">change_dist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">dist</span><span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetLabel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio_selected</span><span class="o">=</span><span class="n">dist</span><span class="p">;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_qq</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ScatterPanel.plot_qq"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.plot_qq">[docs]</a>    <span class="k">def</span> <span class="nf">plot_qq</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dist</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_qq</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
        <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),(</span><span class="n">slope</span><span class="p">,</span><span class="n">inter</span><span class="p">,</span><span class="n">cor</span><span class="p">)</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">probplot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">magt</span><span class="p">,</span><span class="n">dist</span><span class="o">=</span><span class="n">dist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;type of x is </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_qq</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_qq</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">osmf</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">take</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>  <span class="c"># endpoints</span>
        <span class="n">osrf</span> <span class="o">=</span> <span class="n">slope</span> <span class="o">*</span> <span class="n">osmf</span> <span class="o">+</span> <span class="n">inter</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_qq</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">osmf</span><span class="p">,</span><span class="n">osrf</span><span class="p">,</span><span class="s">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_qq</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        
        </div>
<div class="viewcode-block" id="ScatterPanel.save_figure"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.save_figure">[docs]</a>    <span class="k">def</span> <span class="nf">save_figure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="n">filetypes</span><span class="p">,</span> <span class="n">exts</span><span class="p">,</span> <span class="n">filter_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">_get_imagesave_wildcards</span><span class="p">()</span>
        <span class="n">default_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">get_default_filename</span><span class="p">()</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">FileDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;Save to file&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">default_file</span><span class="p">,</span>
                            <span class="n">filetypes</span><span class="p">,</span>
                            <span class="n">wx</span><span class="o">.</span><span class="n">SAVE</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">OVERWRITE_PROMPT</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">SetFilterIndex</span><span class="p">(</span><span class="n">filter_index</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
            <span class="n">dirname</span>  <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">GetDirectory</span><span class="p">()</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">GetFilename</span><span class="p">()</span>
            <span class="n">format</span> <span class="o">=</span> <span class="n">exts</span><span class="p">[</span><span class="n">dlg</span><span class="o">.</span><span class="n">GetFilterIndex</span><span class="p">()]</span>
            <span class="n">basename</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ext</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">):</span>
                <span class="n">ext</span> <span class="o">=</span> <span class="n">ext</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="k">if</span> <span class="n">ext</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;svg&#39;</span><span class="p">,</span> <span class="s">&#39;pdf&#39;</span><span class="p">,</span> <span class="s">&#39;ps&#39;</span><span class="p">,</span> <span class="s">&#39;eps&#39;</span><span class="p">,</span> <span class="s">&#39;png&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">format</span><span class="o">!=</span><span class="n">ext</span><span class="p">:</span>
                <span class="c">#looks like they forgot to set the image type drop</span>
                <span class="c">#down, going with the extension.</span>
                <span class="c">#warnings.warn(&#39;extension %s did not match the selected image type %s; going with %s&#39;%(ext, format, ext), stacklevel=0)</span>
                <span class="n">format</span> <span class="o">=</span> <span class="n">ext</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">print_figure</span><span class="p">(</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dirname</span><span class="p">,</span> <span class="n">filename</span><span class="p">),</span> <span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">pass</span>
</div>
<div class="viewcode-block" id="ScatterPanel.on_figure_enter"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.on_figure_enter">[docs]</a>    <span class="k">def</span> <span class="nf">on_figure_enter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tooltip</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">print</span> <span class="s">&quot;entered figure&quot;</span>
    </div>
<div class="viewcode-block" id="ScatterPanel.on_key_press"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.on_key_press">[docs]</a>    <span class="k">def</span> <span class="nf">on_key_press</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span><span class="s">&#39;n&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span><span class="s">&#39;p&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">event</span><span class="p">,</span><span class="n">backwards</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
   </div>
<div class="viewcode-block" id="ScatterPanel.init_gui"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.init_gui">[docs]</a>    <span class="k">def</span> <span class="nf">init_gui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                                 <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                                         <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">draw_button</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;&gt;&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">prev_button</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;&lt;&#39;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_button</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;Save&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_ylim</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">CheckBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;Global ylim&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">30</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_xlim</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">CheckBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;Global xlim&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">30</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_mcs</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">CheckBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_mc_txt</span> <span class="o">%</span><span class="mi">1000</span> <span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">30</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_mcs</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">chk_hist</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">CheckBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;Histogram&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">30</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_qq</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">CheckBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;QQPlot&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">30</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_hist</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_qq</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rb_norm</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">RadioButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;norm&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">RB_GROUP</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rb_uniform</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">RadioButton</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;uniform&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rb_norm</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_RADIOBUTTON</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">change_dist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rb_uniform</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_RADIOBUTTON</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">change_dist</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radio_selected</span> <span class="o">=</span> <span class="s">&quot;norm&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mc_txt</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SpinCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_button</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;Load&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_CHECKBOX</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_chk_mcs</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">chk_mcs</span><span class="p">)</span>
        <span class="c">#self.Bind(wx.EVT_CHECKBOX,self.on_chk_qqhist, self.chk_qq)</span>
        <span class="c">#self.Bind(wx.EVT_CHECKBOX,self.on_chk_qqhist, self.chk_hist)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_CHECKBOX</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_chk_lim</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">chk_ylim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_CHECKBOX</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_chk_lim</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">chk_xlim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_load_button</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">step</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">draw_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_prev_press</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">prev_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_figure</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_COMBOBOX</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_selectl</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_COMBOBOX</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_select_dir</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prev_button</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_button</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_button</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
       
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mc_txt</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">load_button</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_mcs</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_ylim</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_xlim</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rb_norm</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rb_uniform</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">AddSpacer</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="o">.</span><span class="n">Fit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

  
</div>
<div class="viewcode-block" id="ScatterPanel.on_prev_press"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.on_prev_press">[docs]</a>    <span class="k">def</span> <span class="nf">on_prev_press</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="s">&quot;dummy&quot;</span><span class="p">,</span><span class="n">backwards</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ScatterPanel.on_load_button"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.on_load_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_load_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Ucita n zadatih i stavi checkbox</span>
<span class="sd">        na odredjen tekst i otkaci ga posto pp.</span>
<span class="sd">        da ce neko ako vec ide na load, hteti odmah</span>
<span class="sd">        da vidi rezultate, a posle ga moze uncheck&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_mcs</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_mcs</span><span class="o">.</span><span class="n">SetLabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_mc_txt</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">mc_txt</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">firstn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mc_txt</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_chk_mcs</span><span class="p">(</span><span class="s">&quot;dummy&quot;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ScatterPanel.able_buttons"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.able_buttons">[docs]</a>    <span class="k">def</span> <span class="nf">able_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">enable</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;u zavisnosti od enable</span>
<span class="sd">        disabluje ili enabluje dugmice u sizeru&quot;&quot;&quot;</span>
        <span class="n">buttons</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">GetChildren</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">buttons</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">b</span><span class="o">.</span><span class="n">GetWindow</span><span class="p">()</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
</div>
<div class="viewcode-block" id="ScatterPanel.on_chk_mcs"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.on_chk_mcs">[docs]</a>    <span class="k">def</span> <span class="nf">on_chk_mcs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">firstn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">firstn</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">chk_mcs</span><span class="o">.</span><span class="n">IsChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Loading first {} sps&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">firstn</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">load_sp_data</span><span class="p">(</span><span class="n">dir_</span><span class="o">=</span><span class="n">dir_</span><span class="p">,</span><span class="n">l</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="o">.</span><span class="n">GetValue</span><span class="p">(),</span><span class="n">n</span> <span class="o">=</span> <span class="n">firstn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="s">&#39;dummy&#39;</span><span class="p">,</span><span class="n">curr</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ScatterPanel.on_chk_lim"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.on_chk_lim">[docs]</a>    <span class="k">def</span> <span class="nf">on_chk_lim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ylim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_ylim</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">chk_ylim</span><span class="o">.</span><span class="n">IsChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_ylim</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xlim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_xlim</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">chk_xlim</span><span class="o">.</span><span class="n">IsChecked</span><span class="p">()</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_xlim</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Setting ylim:{} and xlim:{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ylim</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">xlim</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ylim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xlim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="ScatterPanel.on_reload_button"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.on_reload_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_reload_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">choices</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">file_manager</span><span class="o">.</span><span class="n">bmatdict</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="o">.</span><span class="n">SetItems</span><span class="p">(</span><span class="n">choices</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</div>
<div class="viewcode-block" id="ScatterPanel.on_select_dir"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.on_select_dir">[docs]</a>    <span class="k">def</span> <span class="nf">on_select_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">vl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">sp_on_dir_select</span><span class="p">(</span><span class="n">vl</span><span class="p">)</span>
        
        </div>
    <span class="k">def</span> <span class="nf">on_selectl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;Loading data for {}...&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_data</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup_plot</span><span class="p">()</span>
   
<div class="viewcode-block" id="ScatterPanel.set_lims"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.set_lims">[docs]</a>    <span class="k">def</span> <span class="nf">set_lims</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">l</span><span class="p">):</span>

        <span class="n">ylims</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="n">xlims</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="n">ts</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">ts</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
            <span class="n">magt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">calculate_magt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">t</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">magt</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
            <span class="n">ylims</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">())</span>
            <span class="n">xlims</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;ylim for {} is {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;xlim for {} is {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()))</span>
        <span class="k">print</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">ylims</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;xlims: {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">xlims</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">global_ylim</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">ylims</span><span class="p">)[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">ylims</span><span class="p">)[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">global_xlim</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">xlims</span><span class="p">)[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">max</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">xlims</span><span class="p">)[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Global maximum for {} is {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">global_ylim</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Global maximum for {} is {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">global_xlim</span><span class="p">))</span>
            
        <span class="c"># self.mc_txt.SetRange(0,self.controller.get_maxmc(l))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ts</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span><span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>
        <span class="c"># self.temprs = self.temprs if keep else twoway_cycle(self.ts)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">temprs</span> <span class="o">=</span> <span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">twoway_cycle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ts</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setup_plot</span><span class="p">(</span><span class="n">curr</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s">&#39;draw_event&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">forceUpdate</span><span class="p">)</span>
        
</div>
<div class="viewcode-block" id="ScatterPanel.setup_plot"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.setup_plot">[docs]</a>    <span class="k">def</span> <span class="nf">setup_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">curr</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="s">&quot;Initial drawing of scatter plot&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mc_txt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="s">&quot;dummy&quot;</span><span class="p">,</span><span class="n">curr</span><span class="o">=</span><span class="n">curr</span><span class="p">)</span>

    </div>
<div class="viewcode-block" id="ScatterPanel.step"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.step">[docs]</a>    <span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">,</span> <span class="n">backwards</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">curr</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">booli</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Crta za sledece, proslo ili trenutno t&quot;&quot;&quot;</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="n">t</span><span class="o">=</span> <span class="p">(</span><span class="n">curr</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">temprs</span><span class="o">.</span><span class="n">curr</span><span class="p">())</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temprs</span><span class="o">.</span><span class="n">next</span><span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">backwards</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">temprs</span><span class="o">.</span><span class="n">prev</span><span class="p">())</span>
        <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">magt</span> <span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">calculate_magt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">t</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">magt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">magt</span><span class="p">[</span><span class="n">booli</span><span class="p">]</span> <span class="k">if</span> <span class="n">booli</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">magt</span>
        <span class="k">print</span> <span class="s">&#39;MAGT&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">magt</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mc_txt</span><span class="o">.</span><span class="n">SetRange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">get_maxmc</span><span class="p">(</span><span class="n">dir_</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">t</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;t u step-u je ispalo :{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">t</span><span class="p">))</span>
        <span class="n">comps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">mag_components</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">t</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
        
        <span class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">magt</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">facecolor</span><span class="o">=</span><span class="s">&#39;green&#39;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
        <span class="k">print</span> <span class="s">&quot;ret. histograma</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">z</span>
        <span class="k">print</span> <span class="s">&quot;size of z is{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">z</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">local_ylim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">local_xlim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;local xlim: {} local ylim: {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">local_ylim</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">local_xlim</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_chk_lim</span><span class="p">(</span><span class="s">&quot;dummy&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ylim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xlim</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_qq</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radio_selected</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">comps</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">!=</span><span class="mi">3</span><span class="p">:</span>
            <span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">show_error</span><span class="p">(</span><span class="s">&#39;Non 3d data&#39;</span><span class="p">,</span><span class="s">&#39;Scatter unavailable for non 3D data&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">magt</span><span class="o">&gt;</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">magt</span><span class="p">),</span><span class="s">&#39;r&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">)</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">comps</span><span class="o">.</span><span class="n">icol</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">comps</span><span class="o">.</span><span class="n">icol</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">comps</span><span class="o">.</span><span class="n">icol</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">booli</span><span class="p">:</span>
            <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">[</span><span class="n">booli</span><span class="p">]</span>
            <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">[</span><span class="n">booli</span><span class="p">]</span>
            <span class="n">z</span><span class="o">=</span><span class="n">z</span><span class="p">[</span><span class="n">booli</span><span class="p">]</span>
            
                
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;#666666&#39;</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;#666666&#39;</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span><span class="o">.</span><span class="n">get_zticklabels</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;#666666&#39;</span><span class="p">)</span>


        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_hist</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_qq</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_qq</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xlabel</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ylabel</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span><span class="o">.</span><span class="n">set_zlabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">zlabel</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Magt has {} elements&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">magt</span><span class="o">.</span><span class="n">count</span><span class="p">()))</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">scat</span> <span class="o">=</span>  <span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">magt</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="o">.</span><span class="n">RdYlBu</span><span class="p">)</span>

        <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">get_scat_title</span><span class="p">(</span><span class="n">dir_</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">t</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ax_3d</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.95</span><span class="p">))</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Maksimum magt je {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">magt</span><span class="o">.</span><span class="n">max</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;MAGT:</span><span class="se">\n</span><span class="s"> </span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">magt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
               </div>
<div class="viewcode-block" id="ScatterPanel.forceUpdate"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.forceUpdate">[docs]</a>    <span class="k">def</span> <span class="nf">forceUpdate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scat</span><span class="o">.</span><span class="n">changed</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">pass</span>
</div>
<div class="viewcode-block" id="ScatterPanel.on_selectl"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.on_selectl">[docs]</a>    <span class="k">def</span> <span class="nf">on_selectl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_l</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ScatterPanel.set_l"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.set_l">[docs]</a>    <span class="k">def</span> <span class="nf">set_l</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">l</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">load_sp_data</span><span class="p">(</span><span class="n">dir_</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">firstn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_lims</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>

    <span class="c">############## CONTROLLER INTERFACE ################</span>
</div>
<div class="viewcode-block" id="ScatterPanel.set_dir_choices"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.set_dir_choices">[docs]</a>    <span class="k">def</span> <span class="nf">set_dir_choices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dirch</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">SetItems</span><span class="p">(</span><span class="n">dirch</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">dir_</span> <span class="o">=</span> <span class="n">dirch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s">&#39;--&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">able_buttons</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">dir_</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">able_buttons</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">sp_on_dir_select</span><span class="p">(</span><span class="n">dir_</span><span class="p">)</span>
            

    </div>
<div class="viewcode-block" id="ScatterPanel.set_l_choices"><a class="viewcode-back" href="../../src.html#src.gui.ScatterPanel.set_l_choices">[docs]</a>    <span class="k">def</span> <span class="nf">set_l_choices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">lch</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;stavlja izbore za l, i stavlja</span>
<span class="sd">        maksimalno mc za izabrano l &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="o">.</span><span class="n">SetItems</span><span class="p">(</span><span class="n">lch</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">l</span> <span class="o">=</span> <span class="n">lch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cmb_l</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s">&#39;--&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_l</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="ExpPanel"><a class="viewcode-back" href="../../src.html#src.gui.ExpPanel">[docs]</a><span class="k">class</span> <span class="nc">ExpPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">parent</span><span class="p">,</span><span class="n">controller</span><span class="p">):</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">controller</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">&quot;ExpPanel&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">l</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SpinCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SpinCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">therm</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SpinCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">so</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SpinCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
</div>
<div class="viewcode-block" id="ThermPanel"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel">[docs]</a><span class="k">class</span> <span class="nc">ThermPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>

    <span class="n">cmbord</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;dir_&#39;</span><span class="p">,</span><span class="s">&#39;l&#39;</span><span class="p">,</span><span class="s">&#39;t&#39;</span><span class="p">,</span><span class="s">&#39;mc&#39;</span><span class="p">]</span>
    <span class="n">cmbsize</span><span class="o">=</span><span class="p">[</span><span class="mi">150</span><span class="p">,</span><span class="mi">70</span><span class="p">,</span><span class="mi">120</span><span class="p">,</span><span class="mi">130</span><span class="p">]</span>
    <span class="n">plts</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;M1&#39;</span><span class="p">,</span> <span class="s">&#39;M2&#39;</span><span class="p">,</span> <span class="s">&#39;M4&#39;</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span><span class="n">controller</span><span class="p">):</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">controller</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">&quot;ThermPanel&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tooltip</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ToolTip</span><span class="p">(</span><span class="s">&quot;rainbow click&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_plot</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">SetToolTip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tooltip</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mc_txt</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SpinCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_button</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;Generate&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_button</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;Clear&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw_button</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;Draw&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">btn_savesep</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;Save Axes&quot;</span><span class="p">)</span>
  
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_add_button</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">add_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_draw_button</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_save_button</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_savesep</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_clear_button</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clear_button</span><span class="p">)</span>

        
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_l</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">CheckBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;L&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_t</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">CheckBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;T&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_mc</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">CheckBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;SP&quot;</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_l</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_t</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_mc</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

        <span class="c">#mm, moram obezbediti da ovi imaju istu x i y. valjda samo zajedno</span>
        <span class="c"># da ih uvek zovem, ili da namestim ono sharex i sharey. mada mozda to nece</span>
        <span class="c"># neko hteti da ima</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tick_txt</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&quot;ticks&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_txt</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&quot;labels&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_slider</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Slider</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_ticklabels</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_fontsize</span><span class="p">(),</span>
                                    <span class="n">minValue</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">maxValue</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">SL_HORIZONTAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">xylbl_slider</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Slider</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_ticklabels</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_fontsize</span><span class="p">(),</span>
                                    <span class="n">minValue</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">maxValue</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">SL_HORIZONTAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_slider</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_SCROLL</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_slider_scroll</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xylbl_slider</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_SCROLL</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_xyslider_scroll</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_CHECKBOX</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_legend</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_l</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_CHECKBOX</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_legend</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_t</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_CHECKBOX</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_legend</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_mc</span><span class="p">)</span>
        
        

        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">AddSpacer</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
                
        <span class="bp">self</span><span class="o">.</span><span class="n">make_combos</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_button</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clear_button</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">AddSpacer</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mc_txt</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_button</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
   
        
        
   
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span> <span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
   
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">AddSpacer</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
      
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">AddSpacer</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_l</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_t</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">TOP</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_mc</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tick_txt</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lbl_slider</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_txt</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>        
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xylbl_slider</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
   
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="o">.</span><span class="n">Fit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>


<div class="viewcode-block" id="ThermPanel.make_combos"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.make_combos">[docs]</a>    <span class="k">def</span> <span class="nf">make_combos</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span><span class="n">size</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmbord</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">cmbsize</span><span class="p">):</span>
            <span class="n">combo</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                                <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
                                <span class="n">value</span> <span class="o">=</span> <span class="s">&#39;--&#39;</span><span class="p">,</span>
                                <span class="n">name</span><span class="o">=</span><span class="n">name</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">=</span><span class="n">combo</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_COMBOBOX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_select</span><span class="p">,</span> <span class="n">combo</span><span class="p">)</span>
                
            <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">combo</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_mags</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
                                    <span class="n">choices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plts</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plts</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;mags&#39;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_mags</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="ThermPanel.stop"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.stop">[docs]</a>    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ThermPanel.on_save_button"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.on_save_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_save_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">filetypes</span><span class="p">,</span> <span class="n">exts</span><span class="p">,</span> <span class="n">filter_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">_get_imagesave_wildcards</span><span class="p">()</span>
        <span class="n">default_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">get_default_filename</span><span class="p">()</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">FileDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;Save to file&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">default_file</span><span class="p">,</span>
                            <span class="n">filetypes</span><span class="p">,</span>
                            <span class="n">wx</span><span class="o">.</span><span class="n">SAVE</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">OVERWRITE_PROMPT</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">SetFilterIndex</span><span class="p">(</span><span class="n">filter_index</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
            <span class="n">dirname</span>  <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">GetDirectory</span><span class="p">()</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">GetFilename</span><span class="p">()</span>
            <span class="n">format</span> <span class="o">=</span> <span class="n">exts</span><span class="p">[</span><span class="n">dlg</span><span class="o">.</span><span class="n">GetFilterIndex</span><span class="p">()]</span>
            <span class="n">basename</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ext</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">):</span>
                <span class="n">ext</span> <span class="o">=</span> <span class="n">ext</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="k">if</span> <span class="n">ext</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;svg&#39;</span><span class="p">,</span> <span class="s">&#39;pdf&#39;</span><span class="p">,</span> <span class="s">&#39;ps&#39;</span><span class="p">,</span> <span class="s">&#39;eps&#39;</span><span class="p">,</span> <span class="s">&#39;png&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">format</span><span class="o">!=</span><span class="n">ext</span><span class="p">:</span>
                <span class="c">#looks like they forgot to set the image type drop</span>
                <span class="c">#down, going with the extension.</span>
                <span class="c">#warnings.warn(&#39;extension %s did not match the selected image type %s; going with %s&#39;%(ext, format, ext), stacklevel=0)</span>
                <span class="n">format</span> <span class="o">=</span> <span class="n">ext</span>
               
            <span class="k">try</span><span class="p">:</span>
                <span class="n">extent_mag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">get_window_extent</span><span class="p">()</span><span class="o">.</span><span class="n">transformed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">dpi_scale_trans</span><span class="o">.</span><span class="n">inverted</span><span class="p">())</span>
                <span class="n">extent_cv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">get_window_extent</span><span class="p">()</span><span class="o">.</span><span class="n">transformed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">dpi_scale_trans</span><span class="o">.</span><span class="n">inverted</span><span class="p">())</span> 
                <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dirname</span><span class="p">,</span><span class="n">filename</span><span class="o">+</span><span class="s">&quot;_mag&quot;</span><span class="p">),</span><span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="n">extent_mag</span><span class="o">.</span><span class="n">expanded</span><span class="p">(</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">1.5</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dirname</span><span class="p">,</span><span class="n">filename</span><span class="o">+</span><span class="s">&quot;_cv&quot;</span><span class="p">),</span><span class="n">format</span><span class="o">=</span><span class="n">format</span><span class="p">,</span><span class="n">bbox_inches</span><span class="o">=</span><span class="n">extent_cv</span><span class="o">.</span><span class="n">expanded</span><span class="p">(</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">1.5</span><span class="p">))</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">e</span>
</div>
<div class="viewcode-block" id="ThermPanel.set_ticklabelfontsize"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.set_ticklabelfontsize">[docs]</a>    <span class="k">def</span> <span class="nf">set_ticklabelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">size</span><span class="p">):</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="ThermPanel.set_labelfontsize"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.set_labelfontsize">[docs]</a>    <span class="k">def</span> <span class="nf">set_labelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">size</span><span class="p">):</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_label</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_label</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_label</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_label</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        
</div>
<div class="viewcode-block" id="ThermPanel.on_xyslider_scroll"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.on_xyslider_scroll">[docs]</a>    <span class="k">def</span> <span class="nf">on_xyslider_scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
        <span class="n">fontsize</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="k">print</span> <span class="s">&quot;FONTSIZE&quot;</span><span class="p">,</span> <span class="n">fontsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_labelfontsize</span><span class="p">(</span><span class="n">fontsize</span><span class="p">)</span>
        </div>
<div class="viewcode-block" id="ThermPanel.on_slider_scroll"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.on_slider_scroll">[docs]</a>    <span class="k">def</span> <span class="nf">on_slider_scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
        <span class="n">fontsize</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="k">print</span> <span class="s">&quot;FONTSIZE&quot;</span><span class="p">,</span> <span class="n">fontsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_ticklabelfontsize</span><span class="p">(</span><span class="n">fontsize</span><span class="p">)</span>
   </div>
<div class="viewcode-block" id="ThermPanel.on_clear_button"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.on_clear_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_clear_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_chkboxes</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_l</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_t</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_mc</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_labelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xylbl_slider</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_ticklabelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lbl_slider</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
   
        </div>
<div class="viewcode-block" id="ThermPanel.on_add_button"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.on_add_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_add_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Pravi rezultat manje preciznosti</span>
<span class="sd">        tj, za prvih n mc-ova&quot;&quot;&quot;</span>
        <span class="n">firstnmcs</span> <span class="o">=</span><span class="nb">int</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">mc_txt</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="n">vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cmbvals</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">add_mc</span><span class="p">(</span><span class="n">firstnmcs</span><span class="p">,</span><span class="o">**</span><span class="n">vals</span><span class="p">)</span>


    <span class="c">### CONTROLER INTERFACE ####</span>

        </div>
<div class="viewcode-block" id="ThermPanel.set_choices"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.set_choices">[docs]</a>    <span class="k">def</span> <span class="nf">set_choices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Prosledjuje se jedan choice</span>
<span class="sd">        koji god i setuje se onda sta treba</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">len</span> <span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">==</span><span class="mi">1</span>
        <span class="n">name</span><span class="p">,</span><span class="n">items</span> <span class="o">=</span><span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">cmb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&#39;Setting items for </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span><span class="n">name</span><span class="p">)</span>
        <span class="n">cmb</span><span class="o">.</span><span class="n">SetItems</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>

        <span class="n">curr_val</span> <span class="o">=</span> <span class="n">cmb</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">curr_val</span><span class="o">==</span><span class="s">&#39;--&#39;</span> <span class="ow">or</span> <span class="n">curr_val</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">items</span> <span class="k">else</span> <span class="n">curr_val</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">show_error</span><span class="p">(</span><span class="s">&quot;Simdir error&quot;</span><span class="p">,</span> <span class="s">&quot;No </span><span class="si">%s</span><span class="s"> choices! Wrong simulation directory?&quot;</span> <span class="o">%</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cmb</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">on_select</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        
            
</div>
<div class="viewcode-block" id="ThermPanel.on_select"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.on_select">[docs]</a>    <span class="k">def</span> <span class="nf">on_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Znaci uzimamo id od objekta koji je</span>
<span class="sd">        izazvao event i onda uzimamo name-ove</span>
<span class="sd">        Kwargsovi koje prima su sledeci:</span>
<span class="sd">           dir--&gt;nad direktorijumi koji sadrzi L-ove</span>
<span class="sd">           l--&gt; koji l je selektovan</span>
<span class="sd">           t--&gt; temperature</span>
<span class="sd">           mc--&gt; simulation paths</span>
<span class="sd">           samo jedno od te 4 sme da se prosledi, jbg</span>
<span class="sd">        ako je mc onda nista ne uradi, za sada</span>
<span class="sd">        &quot;&quot;&quot;</span>
        
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;event: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">event</span><span class="p">)</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">print</span> <span class="n">e</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">==</span><span class="mi">1</span>
            
            <span class="n">name</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">name</span><span class="o">==</span><span class="s">&#39;mc&#39;</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&#39;getting vals for combo by name: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span><span class="n">name</span><span class="p">)</span>
        <span class="n">vals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cmbvals</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&#39;Vrednosti za generisanje sledeceg komba: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">vals</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">tp_on_select</span><span class="p">(</span><span class="o">**</span><span class="n">vals</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="ThermPanel.get_cmbvals"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.get_cmbvals">[docs]</a>    <span class="k">def</span> <span class="nf">get_cmbvals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Vraca dictionary vrednosti</span>
<span class="sd">        svih comboboxova koji su potrebni</span>
<span class="sd">        za odredjivanje sledeceg. tj, ako je</span>
<span class="sd">        l selektovano onda se prosledjuje njegova</span>
<span class="sd">        vrednost i vrednost g-a&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">val_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">combo</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">combo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmbord</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">&gt;=</span><span class="bp">self</span><span class="o">.</span><span class="n">cmbord</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">k</span><span class="p">)}</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
            <span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">show_error</span><span class="p">(</span><span class="s">&#39;ValueError&#39;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">ve</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">val_dict</span>
        
      </div>
<div class="viewcode-block" id="ThermPanel.set_mc_range"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.set_mc_range">[docs]</a>    <span class="k">def</span> <span class="nf">set_mc_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">range_</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mc_txt</span><span class="o">.</span><span class="n">SetRange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">range_</span><span class="p">)</span>
        </div>
<div class="viewcode-block" id="ThermPanel.get_mc"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.get_mc">[docs]</a>    <span class="k">def</span> <span class="nf">get_mc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Vraca selektovan mc&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;MC(\d+)&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dict</span><span class="p">[</span><span class="s">&#39;mc&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        </div>
<div class="viewcode-block" id="ThermPanel.init_plot"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.init_plot">[docs]</a>    <span class="k">def</span> <span class="nf">init_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="n">fig_width</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span><span class="p">)</span>
        <span class="n">fig_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">4</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">((</span><span class="n">fig_width</span><span class="p">,</span> <span class="n">fig_height</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dpi</span><span class="p">,</span><span class="n">facecolor</span><span class="o">=</span><span class="s">&#39;w&#39;</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigCanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">)</span>
        <span class="n">tw</span><span class="p">,</span><span class="n">th</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="o">.</span><span class="n">GetSizeTuple</span><span class="p">()</span>
        <span class="n">fw</span><span class="p">,</span><span class="n">fh</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">GetSizeTuple</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="n">fw</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="o">.</span><span class="n">Realize</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s">&#39;key_press_event&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_key_press</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s">&#39;pick_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_pick</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ThermPanel.on_pick"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.on_pick">[docs]</a>    <span class="k">def</span> <span class="nf">on_pick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">artist</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">artist</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">artist</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">print</span> <span class="s">&quot;pick&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="ThermPanel.on_key_press"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.on_key_press">[docs]</a>    <span class="k">def</span> <span class="nf">on_key_press</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="ow">in</span> <span class="s">&#39;rgbcmyk&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error_line</span><span class="o">.</span><span class="n">get_children</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">semilog_line</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="ow">in</span> <span class="s">&quot;-.,&quot;</span> <span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error_line</span><span class="o">.</span><span class="n">get_children</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_linestyle</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">semilog_line</span><span class="o">.</span><span class="n">set_linestyle</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="ow">in</span> <span class="s">&quot;ov^&lt;&gt;1234s*hHDd|&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error_line</span><span class="o">.</span><span class="n">get_children</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_marker</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">semilog_line</span><span class="o">.</span><span class="n">set_marker</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span><span class="s">&quot;+&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">semilog_line</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">semilog_line</span><span class="o">.</span><span class="n">get_linewidth</span><span class="p">()</span><span class="o">+</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span><span class="s">&quot;-&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">semilog_line</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">semilog_line</span><span class="o">.</span><span class="n">get_linewidth</span><span class="p">()</span><span class="o">-</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="o">==</span><span class="s">&quot;p&quot;</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&quot;pp&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">multi</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">MultiCursor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,[</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="p">],</span><span class="n">useblit</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;gray&#39;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="o">==</span><span class="s">&quot;x&quot;</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">multi</span>
                              
                              
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        </div>
<div class="viewcode-block" id="ThermPanel.on_draw_button"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.on_draw_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_draw_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;on_draw_button&quot;</span><span class="p">)</span>
        <span class="n">plt</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="n">cmb</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span><span class="n">cmb</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="n">plt</span><span class="p">[</span><span class="s">&#39;mc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mc</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">get_plot_data</span><span class="p">(</span><span class="o">**</span><span class="n">plt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Loaded data for plot:</span><span class="se">\n</span><span class="s"> </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw_plot</span><span class="p">()</span>
        </div>
<div class="viewcode-block" id="ThermPanel.draw_legend"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.draw_legend">[docs]</a>    <span class="k">def</span> <span class="nf">draw_legend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>

        <span class="n">lbl_mc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_mc</span><span class="p">()</span>
        <span class="n">lbl_mc</span> <span class="o">=</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">=</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="s">&quot;SP&quot;</span><span class="p">,</span><span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_int</span><span class="p">(</span><span class="n">lbl_mc</span><span class="p">))</span>
        <span class="n">lbl_t</span> <span class="o">=</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">=</span><span class="si">%.4f</span><span class="s">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_dict</span><span class="p">[</span><span class="s">&#39;t&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span><span class="nb">float</span><span class="p">(</span><span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_dict</span><span class="p">[</span><span class="s">&#39;t&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span><span class="o">/</span><span class="mf">10000.0</span><span class="p">))</span>
        <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dict</span><span class="p">[</span><span class="s">&#39;l&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="n">namel</span> <span class="o">=</span> <span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_name</span><span class="p">(</span><span class="n">l</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="n">lbl_l</span> <span class="o">=</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">=</span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span> <span class="p">(</span><span class="n">namel</span><span class="p">,</span><span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_int</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>

        <span class="n">lchk</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chk_l</span><span class="o">.</span><span class="n">IsChecked</span><span class="p">()</span>
        <span class="n">mcchk</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chk_mc</span><span class="o">.</span><span class="n">IsChecked</span><span class="p">()</span>
        <span class="n">tchk</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chk_t</span><span class="o">.</span><span class="n">IsChecked</span><span class="p">()</span>
        <span class="n">lbl</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">lbl_l</span> <span class="k">if</span> <span class="n">lchk</span> <span class="k">else</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">lbl_t</span> <span class="k">if</span> <span class="n">tchk</span> <span class="k">else</span> <span class="s">&quot;&quot;</span><span class="p">,</span><span class="n">lbl_mc</span> <span class="k">if</span> <span class="n">mcchk</span> <span class="k">else</span> <span class="s">&quot;&quot;</span><span class="p">)</span>

        <span class="n">error_line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">semilog_line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">error_line</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">lbl</span><span class="p">)</span>
        <span class="n">semilog_line</span><span class="o">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">lbl</span><span class="p">)</span>
        <span class="n">mag_leg</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">&quot;best&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">frameon</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">shadow</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">mag_leg</span><span class="o">.</span><span class="n">draggable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">cv_leg</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">&quot;best&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">frameon</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">shadow</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">cv_leg</span><span class="o">.</span><span class="n">draggable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="ThermPanel.reset_chkboxes"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.reset_chkboxes">[docs]</a>    <span class="k">def</span> <span class="nf">reset_chkboxes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_l</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_mc</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_t</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        </div>
<div class="viewcode-block" id="ThermPanel.reset_and_disable_chkboxes"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.reset_and_disable_chkboxes">[docs]</a>    <span class="k">def</span> <span class="nf">reset_and_disable_chkboxes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_chkboxes</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_l</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_mc</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_t</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        </div>
<div class="viewcode-block" id="ThermPanel.draw_plot"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.draw_plot">[docs]</a>    <span class="k">def</span> <span class="nf">draw_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="s">&#39;M1&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Redraws the plot</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_chkboxes</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Crtam grafiik za{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_mc</span><span class="p">()))</span>
        
        <span class="n">fmt</span> <span class="o">=</span><span class="n">fmt_cycle</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
        <span class="k">print</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">item</span><span class="o">+</span><span class="s">&#39;avg&#39;</span><span class="p">]</span>
        <span class="k">print</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">&#39;stdMean&#39;</span><span class="o">+</span><span class="n">item</span><span class="p">]</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">error_line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">&#39;THERM&#39;</span><span class="p">],</span>
                             <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">item</span> <span class="o">+</span> <span class="s">&#39;avg&#39;</span><span class="p">],</span>
                             <span class="n">yerr</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">&#39;stdMean&#39;</span> <span class="o">+</span> <span class="n">item</span><span class="p">]),</span><span class="n">fmt</span><span class="o">=</span><span class="n">fmt</span><span class="p">,</span><span class="n">fillstyle</span><span class="o">=</span><span class="s">&#39;none&#39;</span><span class="p">,</span>
                                           <span class="n">picker</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">semilog_line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">semilogx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">&#39;THERM&#39;</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">&#39;cv(</span><span class="si">%s</span><span class="s">)&#39;</span>
                             <span class="o">%</span> <span class="n">item</span><span class="p">],</span><span class="n">fmt</span><span class="p">,</span><span class="n">fillstyle</span><span class="o">=</span><span class="s">&#39;none&#39;</span><span class="p">,</span><span class="n">picker</span><span class="o">=</span><span class="mi">5</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s">&#39;log&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">&#39;Number of lattice sweeps&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">&#39;Number of lattice sweeps&#39;</span><span class="p">)</span>
        <span class="n">mlanglerangle</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">^</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">!=</span><span class="mi">1</span> <span class="k">else</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_cv</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">r&#39;Coefficient of variation for $\langle{</span><span class="si">%s</span><span class="s">}\rangle$&#39;</span>
                               <span class="o">%</span> <span class="n">mlanglerangle</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_mag</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">r&#39;$\langle{</span><span class="si">%s</span><span class="s">}\rangle$&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">mlanglerangle</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_labelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xylbl_slider</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_ticklabelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lbl_slider</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkboxes</span><span class="p">:</span>
            <span class="n">c</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>

    </div>
    <span class="nd">@property</span>
<div class="viewcode-block" id="ThermPanel.checkboxes"><a class="viewcode-back" href="../../src.html#src.gui.ThermPanel.checkboxes">[docs]</a>    <span class="k">def</span> <span class="nf">checkboxes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">chk_l</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_t</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_mc</span><span class="p">]</span>
    </div></div>
<div class="viewcode-block" id="AggPanel"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel">[docs]</a><span class="k">class</span> <span class="nc">AggPanel</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    <span class="n">name_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;susc&#39;</span><span class="p">:</span><span class="s">r&quot;$\mathcal{X}$&quot;</span><span class="p">,</span><span class="s">&#39;Tcap&#39;</span><span class="p">:</span><span class="s">&#39;$C_V$&#39;</span><span class="p">,</span><span class="s">&#39;T&#39;</span><span class="p">:</span><span class="s">&#39;$T$&#39;</span><span class="p">,</span>
                 <span class="s">&#39;M1avg&#39;</span><span class="p">:</span><span class="s">r&quot;$\langle{M}\rangle$&quot;</span><span class="p">,</span><span class="s">&#39;M2avg&#39;</span><span class="p">:</span><span class="s">r&quot;$\langle{M^2}\rangle$&quot;</span><span class="p">,</span><span class="s">&#39;M4avg&#39;</span><span class="p">:</span><span class="s">r&quot;$\langle{M^4}\rangle$&quot;</span><span class="p">,</span><span class="s">&#39;Eavg&#39;</span><span class="p">:</span><span class="s">r&quot;$\langle{H}\rangle$&quot;</span><span class="p">,</span><span class="s">&#39;E2avg&#39;</span><span class="p">:</span><span class="s">r&quot;$\langle{H^2}\rangle$&quot;</span><span class="p">,</span><span class="s">&#39;U&#39;</span><span class="p">:</span><span class="s">r&#39;$U_{L}$&#39;</span><span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span><span class="n">controller</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">controller</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s">&#39;AggPanel&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_plot</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_gui</span><span class="p">()</span>

        
<div class="viewcode-block" id="AggPanel.init_gui"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.init_gui">[docs]</a>    <span class="k">def</span> <span class="nf">init_gui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span> <span class="o">=</span>  <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s">&#39;--&#39;</span><span class="p">,</span>
            <span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_L</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="s">&#39;--&#39;</span>
            <span class="p">)</span>
         
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_mag</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">ComboBox</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">CB_READONLY</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw_button</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;Draw&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_COMBOBOX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_select_dir</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_draw_button</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">draw_button</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_button</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;Clear&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">random_button</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;&#39;Best&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">csel_button</span> <span class="o">=</span> <span class="n">csel</span><span class="o">.</span><span class="n">ColourSelect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">,(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="n">size</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">DefaultSize</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">csel_button</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_button</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">csel</span><span class="o">.</span><span class="n">EVT_COLOURSELECT</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_select_color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_clear_button</span><span class="p">,</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">clear_button</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_BUTTON</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_random_button</span><span class="p">,</span>
                  <span class="bp">self</span><span class="o">.</span><span class="n">random_button</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tick_txt</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&quot;ticks&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_txt</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s">&quot;labels&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_slider</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Slider</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_ticklabels</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_fontsize</span><span class="p">(),</span>
                                    <span class="n">minValue</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">maxValue</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">SL_HORIZONTAL</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">xylbl_slider</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Slider</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_ticklabels</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_fontsize</span><span class="p">(),</span>
                                    <span class="n">minValue</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">maxValue</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">SL_HORIZONTAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lbl_slider</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_SCROLL</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_slider_scroll</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xylbl_slider</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_SCROLL</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_xyslider_scroll</span><span class="p">)</span>
        

        <span class="bp">self</span><span class="o">.</span><span class="n">chk_ann</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">CheckBox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;Annotate&quot;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">30</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_ann</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_CHECKBOX</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_chk_ann</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">chk_ann</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_L</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">AddSpacer</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cmb_mag</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">AddSpacer</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">draw_button</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">AddSpacer</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clear_button</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">random_button</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span> <span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tick_txt</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
               <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lbl_slider</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_txt</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>        
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xylbl_slider</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_ann</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">csel_button</span><span class="p">,</span> <span class="n">border</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALL</span>
                       <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_CENTER_VERTICAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="n">hboxmain</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reader</span> <span class="o">=</span> <span class="n">Reader</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="s">&#39;Chooser&#39;</span><span class="p">)</span>
        <span class="n">hboxmain</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="n">flag</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span><span class="p">)</span>
        <span class="n">hboxmain</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reader</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hboxmain</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toolhbox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hbox1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_LEFT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vbox</span><span class="o">.</span><span class="n">Fit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    
</div>
<div class="viewcode-block" id="AggPanel.on_select_color"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_select_color">[docs]</a>    <span class="k">def</span> <span class="nf">on_select_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;COLOUR(wx)&quot;</span><span class="p">,</span><span class="n">event</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="mf">255.0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">&quot;best&quot;</span><span class="p">,</span><span class="n">frameon</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">shadow</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        </div>
<div class="viewcode-block" id="AggPanel.on_chk_ann"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_chk_ann">[docs]</a>    <span class="k">def</span> <span class="nf">on_chk_ann</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">ann</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">annotations</span><span class="p">:</span>
            <span class="n">ann</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">chk_ann</span><span class="o">.</span><span class="n">IsChecked</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        </div>
<div class="viewcode-block" id="AggPanel.set_ticklabelfontsize"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.set_ticklabelfontsize">[docs]</a>    <span class="k">def</span> <span class="nf">set_ticklabelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">size</span><span class="p">):</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="AggPanel.set_labelfontsize"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.set_labelfontsize">[docs]</a>    <span class="k">def</span> <span class="nf">set_labelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">size</span><span class="p">):</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_label</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="n">pylab</span><span class="o">.</span><span class="n">setp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_label</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        </div>
<div class="viewcode-block" id="AggPanel.on_chooser"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_chooser">[docs]</a>    <span class="k">def</span> <span class="nf">on_chooser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chooser</span> <span class="o">=</span> <span class="n">Reader</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&quot;Chooser&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chooser</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chooser</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span>
        </div>
<div class="viewcode-block" id="AggPanel.on_agg_button"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_agg_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_agg_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">agregate</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="AggPanel.on_alt_button"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_alt_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_alt_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</div>
<div class="viewcode-block" id="AggPanel.on_xyslider_scroll"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_xyslider_scroll">[docs]</a>    <span class="k">def</span> <span class="nf">on_xyslider_scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
        <span class="n">fontsize</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="k">print</span> <span class="s">&quot;FONTSIZE&quot;</span><span class="p">,</span> <span class="n">fontsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_labelfontsize</span><span class="p">(</span><span class="n">fontsize</span><span class="p">)</span>
        </div>
<div class="viewcode-block" id="AggPanel.on_slider_scroll"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_slider_scroll">[docs]</a>    <span class="k">def</span> <span class="nf">on_slider_scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
        <span class="n">fontsize</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="k">print</span> <span class="s">&quot;FONTSIZE&quot;</span><span class="p">,</span> <span class="n">fontsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_ticklabelfontsize</span><span class="p">(</span><span class="n">fontsize</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="AggPanel.set_cpicker_color"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.set_cpicker_color">[docs]</a>    <span class="k">def</span> <span class="nf">set_cpicker_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">color</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;COLOR&quot;</span><span class="p">,</span><span class="n">color</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">csel_button</span><span class="o">.</span><span class="n">SetColour</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>

        </div>
<div class="viewcode-block" id="AggPanel.on_draw_button"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_draw_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_draw_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        
        <span class="n">L_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_L</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="n">mag_select</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_mag</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="n">lbl</span> <span class="o">=</span> <span class="s">&quot;simulation=</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">=</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">dir_</span><span class="p">,</span><span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_name</span><span class="p">(</span><span class="n">L_select</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span><span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_int</span><span class="p">(</span><span class="n">L_select</span><span class="p">))</span>
        <span class="n">agg_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">get_agg_plot_data</span><span class="p">(</span><span class="n">dir_</span><span class="p">)</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">color_cycle</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
        <span class="n">matpl_color</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="mf">255.0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">agg_data</span><span class="p">[</span><span class="n">L_select</span><span class="p">]</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">&#39;T&#39;</span><span class="p">],</span>
                         <span class="n">agg_data</span><span class="p">[</span><span class="n">L_select</span><span class="p">]</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">mag_select</span><span class="p">],</span><span class="n">fmt_cycle</span><span class="o">.</span><span class="n">next</span><span class="p">(),</span> <span class="n">label</span><span class="o">=</span><span class="n">lbl</span><span class="p">,</span><span class="n">fillstyle</span><span class="o">=</span><span class="s">&#39;none&#39;</span><span class="p">,</span><span class="n">picker</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">matpl_color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">csel_button</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_cpicker_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">annotations</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&#39;agg_data: </span><span class="se">\n</span><span class="s"> </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span><span class="n">agg_data</span><span class="p">)</span>
        <span class="n">index_ts</span> <span class="o">=</span> <span class="n">agg_data</span><span class="p">[</span><span class="n">L_select</span><span class="p">]</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">&#39;T&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
        <span class="n">real_ts</span> <span class="o">=</span> <span class="n">agg_data</span><span class="p">[</span><span class="n">L_select</span><span class="p">]</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="s">&#39;T&#39;</span><span class="p">]</span>
        <span class="n">mag_values</span> <span class="o">=</span> <span class="n">agg_data</span><span class="p">[</span><span class="n">L_select</span><span class="p">]</span><span class="o">.</span><span class="n">ix</span><span class="p">[</span><span class="n">mag_select</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">ti</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">tr</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">index_ts</span><span class="p">,</span><span class="n">mag_values</span><span class="p">,</span><span class="n">real_ts</span><span class="p">):</span>
            <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">annotate_agg</span><span class="p">(</span><span class="n">dir_</span><span class="p">,</span><span class="n">L_select</span><span class="p">,</span><span class="n">ti</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">annotations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">tr</span><span class="p">,</span><span class="n">m</span><span class="p">),</span><span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="n">tr</span><span class="p">,</span><span class="n">m</span><span class="p">),</span> <span class="n">visible</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span><span class="n">picker</span> <span class="o">=</span> <span class="mi">5</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">chk_ann</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_ann</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        
        <span class="c">#???!!!self.ax_agg.set_xlim(right=1.55)</span>
        <span class="n">leg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">&quot;best&quot;</span><span class="p">,</span><span class="n">frameon</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">shadow</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">xy_ann</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s">&#39;dummy text&#39;</span><span class="p">,</span><span class="n">xy</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;gray&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xy_ann</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        
        <span class="n">leg</span><span class="o">.</span><span class="n">draggable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">&quot;$T$&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name_dict</span><span class="p">[</span><span class="n">mag_select</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_labelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xylbl_slider</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_ticklabelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lbl_slider</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;:&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        </div>
<div class="viewcode-block" id="AggPanel.on_clear_button"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_clear_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_clear_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_labelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xylbl_slider</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_ticklabelfontsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lbl_slider</span><span class="o">.</span><span class="n">GetValue</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_ann</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">chk_ann</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">csel_button</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="AggPanel.on_random_button"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_random_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_random_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">dir_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">random_bestmats</span><span class="p">(</span><span class="n">dir_</span><span class="p">)</span>
        </div>
<div class="viewcode-block" id="AggPanel.init_plot"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.init_plot">[docs]</a>    <span class="k">def</span> <span class="nf">init_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="n">fig_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">/</span> <span class="mf">1.3</span>
        <span class="n">fig_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">dpi</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">((</span><span class="n">fig_width</span><span class="p">,</span> <span class="n">fig_height</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dpi</span><span class="p">,</span><span class="n">facecolor</span><span class="o">=</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
     
     
        <span class="bp">self</span><span class="o">.</span><span class="n">xy_ann</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s">&#39;dummy text&#39;</span><span class="p">,</span><span class="n">xy</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;gray&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xy_ann</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigCanvas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">)</span>
        <span class="n">tw</span><span class="p">,</span><span class="n">th</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="o">.</span><span class="n">GetSizeTuple</span><span class="p">()</span>
        <span class="n">fw</span><span class="p">,</span><span class="n">fh</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">GetSizeTuple</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="n">fw</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar</span><span class="o">.</span><span class="n">Realize</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s">&#39;pick_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_pick</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s">&#39;key_press_event&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_key_press</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s">&#39;scroll_event&#39;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_scroll</span><span class="p">)</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">mte</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_connect</span><span class="p">(</span><span class="s">&#39;motion_notify_event&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_moved</span><span class="p">)</span>


        
        <span class="c">########################################</span>
        <span class="c">########### MATPLOTLIB EVENTS ##########</span>
</div>
<div class="viewcode-block" id="AggPanel.on_scroll"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_scroll">[docs]</a>    <span class="k">def</span> <span class="nf">on_scroll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">curr_m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_markersize</span><span class="p">()</span>
        <span class="n">curr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_linewidth</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_linewidth</span><span class="p">(</span><span class="n">curr</span><span class="o">+</span><span class="n">event</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_markersize</span><span class="p">(</span><span class="n">curr_m</span><span class="o">+</span><span class="n">event</span><span class="o">.</span><span class="n">step</span><span class="p">)</span>
            
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">();</span>
</div>
<div class="viewcode-block" id="AggPanel.on_key_press"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_key_press">[docs]</a>    <span class="k">def</span> <span class="nf">on_key_press</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="s">&#39;x&#39;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">mpl_disconnect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mte</span><span class="p">)</span>
                <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">key</span> <span class="o">==</span> <span class="s">&#39;c&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cursor</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Cursor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="p">,</span> <span class="n">useblit</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;gray&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
            
            </div>
<div class="viewcode-block" id="AggPanel.on_pick"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_pick">[docs]</a>    <span class="k">def</span> <span class="nf">on_pick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">matplotlib.text</span> <span class="kn">import</span> <span class="n">Annotation</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">xy</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">print</span> <span class="n">e</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">print</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span>
            <span class="n">t</span> <span class="o">=</span>  <span class="s">&#39;T</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="mi">10000</span><span class="p">)</span>
            <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_L</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
            <span class="k">print</span> <span class="n">t</span><span class="p">,</span><span class="n">l</span>
            <span class="c">#therm = </span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">mouseevent</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">print</span> <span class="nb">type</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">artist</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">artist</span><span class="p">,</span><span class="n">Line2D</span><span class="p">):</span>
                <span class="n">event</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">set_linestyle</span><span class="p">(</span><span class="n">linestyle_cycle</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">artist</span><span class="p">,</span><span class="n">Annotation</span><span class="p">):</span>
                <span class="n">event</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">event</span><span class="o">.</span><span class="n">mouseevent</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span><span class="mi">3</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">artist</span><span class="p">,</span><span class="n">Line2D</span><span class="p">):</span>
                <span class="n">event</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">set_marker</span><span class="p">(</span><span class="n">markers_cycle</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
                <span class="n">event</span><span class="o">.</span><span class="n">artist</span><span class="o">.</span><span class="n">set_fillstyle</span><span class="p">(</span><span class="n">fillstyle_cycle</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">&quot;best&quot;</span><span class="p">,</span><span class="n">frameon</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="n">shadow</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

        </div>
<div class="viewcode-block" id="AggPanel.mouse_moved"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.mouse_moved">[docs]</a>    <span class="k">def</span> <span class="nf">mouse_moved</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">xdata</span><span class="p">,</span><span class="n">event</span><span class="o">.</span><span class="n">ydata</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">print</span> <span class="s">&quot;XX&quot;</span><span class="p">,</span><span class="n">x</span>
            <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asscalar</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">asscalar</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s">&#39;x:{:.4f}</span><span class="se">\n</span><span class="s">y:{:.4f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">xdata</span><span class="p">,</span><span class="n">event</span><span class="o">.</span><span class="n">ydata</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xy_ann</span><span class="o">.</span><span class="n">xy</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span>
            <span class="n">xlim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">ylim</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_agg</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">print</span> <span class="n">xlim</span>
            <span class="c">#self.xy_ann.xytext= xlim+0.01, 0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xy_ann</span><span class="o">.</span><span class="n">xytext</span><span class="o">=</span> <span class="n">xlim</span><span class="o">+</span><span class="mf">0.004</span><span class="p">,</span><span class="n">ylim</span>
        
            <span class="bp">self</span><span class="o">.</span><span class="n">xy_ann</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xy_ann</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xy_ann</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

        <span class="c">########################################</span>
        <span class="c">######### CONTROLER INTERFACE ##########</span>

</div>
<div class="viewcode-block" id="AggPanel.set_dir_choices"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.set_dir_choices">[docs]</a>    <span class="k">def</span> <span class="nf">set_dir_choices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dirch</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">SetItems</span><span class="p">(</span><span class="n">dirch</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">curr_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">dirch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span>  <span class="n">curr_val</span><span class="o">==</span><span class="s">&#39;--&#39;</span> <span class="ow">or</span> <span class="n">curr_val</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dirch</span> <span class="k">else</span> <span class="n">curr_val</span>
        <span class="k">except</span> <span class="ne">IndexError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s">&#39;--&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">show_error</span><span class="p">(</span><span class="s">&#39;Some error!&#39;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cmb_dirs</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">on_select_dir</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">val</span><span class="p">,</span><span class="n">changed</span><span class="o">=</span><span class="n">curr_val</span><span class="o">!=</span><span class="n">val</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="AggPanel.on_select_dir"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.on_select_dir">[docs]</a>    <span class="k">def</span> <span class="nf">on_select_dir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">val</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">changed</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">!=</span><span class="bp">None</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetEventObject</span><span class="p">()</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">ap_dir_selected</span><span class="p">(</span><span class="n">val</span><span class="p">,</span><span class="n">changed</span><span class="p">)</span>
            </div>
<div class="viewcode-block" id="AggPanel.set_l_choices"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.set_l_choices">[docs]</a>    <span class="k">def</span> <span class="nf">set_l_choices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">lch</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_L</span><span class="o">.</span><span class="n">SetItems</span><span class="p">(</span><span class="n">lch</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmb_L</span><span class="o">.</span><span class="n">GetValue</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cmb_L</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">lch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">val</span><span class="o">==</span><span class="s">&#39;--&#39;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">val</span> <span class="ow">or</span> <span class="n">val</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">lch</span> <span class="k">else</span> <span class="n">val</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cmb_L</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="s">&#39;--&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="AggPanel.set_mag_choices"><a class="viewcode-back" href="../../src.html#src.gui.AggPanel.set_mag_choices">[docs]</a>    <span class="k">def</span> <span class="nf">set_mag_choices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mch</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_mag</span><span class="o">.</span><span class="n">SetItems</span><span class="p">(</span><span class="n">mch</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cmb_mag</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">mch</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>


</div></div>
<div class="viewcode-block" id="TabContainer"><a class="viewcode-back" href="../../src.html#src.gui.TabContainer">[docs]</a><span class="k">class</span> <span class="nc">TabContainer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Notebook</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">controller</span><span class="p">):</span>

        <span class="n">wx</span><span class="o">.</span><span class="n">Notebook</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ID_ANY</span><span class="p">,</span>
                             <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">BK_DEFAULT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span>  <span class="o">=</span> <span class="n">controller</span>
        <span class="n">tp</span> <span class="o">=</span> <span class="n">ThermPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">controller</span><span class="p">)</span>
        <span class="n">ag</span> <span class="o">=</span> <span class="n">AggPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">controller</span><span class="p">)</span>
        <span class="n">scat</span> <span class="o">=</span> <span class="n">ScatterPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">controller</span><span class="p">)</span>
        <span class="n">exp</span> <span class="o">=</span> <span class="n">ExpPanel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">controller</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">init_gui</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span><span class="n">ag</span><span class="p">,</span><span class="n">scat</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddPage</span><span class="p">(</span><span class="n">tp</span><span class="p">,</span> <span class="s">&#39;Therm&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddPage</span><span class="p">(</span><span class="n">ag</span><span class="p">,</span> <span class="s">&#39;Aggregate&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddPage</span><span class="p">(</span><span class="n">scat</span><span class="p">,</span><span class="s">&quot;Scatter&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddPage</span><span class="p">(</span><span class="n">exp</span><span class="p">,</span><span class="s">&quot;Exp&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_NOTEBOOK_PAGE_CHANGING</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">OnPageChanging</span><span class="p">)</span>

<div class="viewcode-block" id="TabContainer.flash_status_message"><a class="viewcode-back" href="../../src.html#src.gui.TabContainer.flash_status_message">[docs]</a>    <span class="k">def</span> <span class="nf">flash_status_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">message</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">GetParent</span><span class="p">()</span><span class="o">.</span><span class="n">flash_status_message</span><span class="p">(</span><span class="n">message</span><span class="p">,</span><span class="mi">3000</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="TabContainer.OnPageChanging"><a class="viewcode-back" href="../../src.html#src.gui.TabContainer.OnPageChanging">[docs]</a>    <span class="k">def</span> <span class="nf">OnPageChanging</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">new</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetSelection</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">new</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">init_scatter</span><span class="p">()</span>

</div></div>
<div class="viewcode-block" id="GraphFrame"><a class="viewcode-back" href="../../src.html#src.gui.GraphFrame">[docs]</a><span class="k">class</span> <span class="nc">GraphFrame</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;The main frame of the application</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">title</span> <span class="o">=</span> <span class="s">&#39;tulip&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">controller</span><span class="p">):</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">Frame</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>

<span class="c">##        self.size = tuple(map(operator.mul, wx.DisplaySize(),(3.0/4.0)))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">controller</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">DisplaySize</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mf">4.0</span> <span class="o">/</span> <span class="mf">4.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">DisplaySize</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span> <span class="o">*</span> <span class="mf">3.5</span> <span class="o">/</span> <span class="mf">4.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSize</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Center</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_menu</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_status_bar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_main_panel</span><span class="p">()</span>

<div class="viewcode-block" id="GraphFrame.create_menu"><a class="viewcode-back" href="../../src.html#src.gui.GraphFrame.create_menu">[docs]</a>    <span class="k">def</span> <span class="nf">create_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menubar</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">MenuBar</span><span class="p">()</span>
        <span class="n">menu_file</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Menu</span><span class="p">()</span>

        <span class="n">m_exit</span> <span class="o">=</span> <span class="n">menu_file</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;E&amp;xit</span><span class="se">\t</span><span class="s">Ctrl-X&#39;</span><span class="p">,</span> <span class="s">&#39;Exit&#39;</span><span class="p">)</span>
        <span class="n">m_reload</span> <span class="o">=</span> <span class="n">menu_file</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;&amp;Reload</span><span class="se">\t</span><span class="s">Ctrl-R&#39;</span><span class="p">,</span><span class="s">&#39;Reload&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_exit</span><span class="p">,</span> <span class="n">m_exit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_MENU</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">on_reload</span><span class="p">,</span><span class="n">m_reload</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="o">.</span><span class="n">Append</span><span class="p">(</span><span class="n">menu_file</span><span class="p">,</span> <span class="s">&#39;&amp;File&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetMenuBar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">menubar</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="GraphFrame.create_main_panel"><a class="viewcode-back" href="../../src.html#src.gui.GraphFrame.create_main_panel">[docs]</a>    <span class="k">def</span> <span class="nf">create_main_panel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">notebook</span> <span class="o">=</span> <span class="n">TabContainer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">SetPadding</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mf">6.0</span>
                                 <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">GetFont</span><span class="p">()</span><span class="o">.</span><span class="n">GetPixelSize</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
                                 <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">sizer</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>

        <span class="n">sizer</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">notebook</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">ALL</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">sizer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Layout</span><span class="p">()</span>

       </div>
<div class="viewcode-block" id="GraphFrame.create_status_bar"><a class="viewcode-back" href="../../src.html#src.gui.GraphFrame.create_status_bar">[docs]</a>    <span class="k">def</span> <span class="nf">create_status_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CreateStatusBar</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="GraphFrame.on_exit"><a class="viewcode-back" href="../../src.html#src.gui.GraphFrame.on_exit">[docs]</a>    <span class="k">def</span> <span class="nf">on_exit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="GraphFrame.on_reload"><a class="viewcode-back" href="../../src.html#src.gui.GraphFrame.on_reload">[docs]</a>    <span class="k">def</span> <span class="nf">on_reload</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">remap_fsystem</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="GraphFrame.flash_status_message"><a class="viewcode-back" href="../../src.html#src.gui.GraphFrame.flash_status_message">[docs]</a>    <span class="k">def</span> <span class="nf">flash_status_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">flash_len_ms</span><span class="o">=</span><span class="mi">1500</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">SetStatusText</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timeroff</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TIMER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_flash_status_off</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeroff</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timeroff</span><span class="o">.</span><span class="n">Start</span><span class="p">(</span><span class="n">flash_len_ms</span><span class="p">,</span> <span class="n">oneShot</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="GraphFrame.on_flash_status_off"><a class="viewcode-back" href="../../src.html#src.gui.GraphFrame.on_flash_status_off">[docs]</a>    <span class="k">def</span> <span class="nf">on_flash_status_off</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusbar</span><span class="o">.</span><span class="n">SetStatusText</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>


</div></div>
<div class="viewcode-block" id="MyListCtrl"><a class="viewcode-back" href="../../src.html#src.gui.MyListCtrl">[docs]</a><span class="k">class</span> <span class="nc">MyListCtrl</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">ListCtrl</span><span class="p">):</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span><span class="n">controller</span><span class="p">,</span><span class="n">mat_deletable</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">ListCtrl</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">LC_REPORT</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LC_HRULES</span> <span class="o">|</span> 
		<span class="n">wx</span><span class="o">.</span><span class="n">LC_NO_HEADER</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">LC_SINGLE_SEL</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">controller</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_SIZE</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">OnSize</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_LIST_ITEM_SELECTED</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">OnSelect</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_LIST_ITEM_RIGHT_CLICK</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">OnRightClick</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">InsertColumn</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="n">MyListCtrl</span><span class="o">.</span><span class="n">__name__</span><span class="p">)</span>

<div class="viewcode-block" id="MyListCtrl.OnRightClick"><a class="viewcode-back" href="../../src.html#src.gui.MyListCtrl.OnRightClick">[docs]</a>    <span class="k">def</span> <span class="nf">OnRightClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;U slucaju da smo na t,therm ili mc-u</span>
<span class="sd">        brise se bestmat iz bestmatova.Oslanjamo</span>
<span class="sd">        se na atribut controllera koji on drzi</span>
<span class="sd">        konzistentim, nadamo se&quot;&quot;&quot;</span>
        <span class="n">selected</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetIndex</span><span class="p">()</span>
        <span class="n">selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetItemText</span><span class="p">(</span><span class="n">selected</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">extract_name</span><span class="p">(</span><span class="n">selected</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">remove_bestmat</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">name</span><span class="p">:</span><span class="n">selected</span><span class="p">})</span>
        </div>
<div class="viewcode-block" id="MyListCtrl.LoadData"><a class="viewcode-back" href="../../src.html#src.gui.MyListCtrl.LoadData">[docs]</a>    <span class="k">def</span> <span class="nf">LoadData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">list_items</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DeleteAllItems</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">li</span> <span class="ow">in</span> <span class="n">list_items</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">InsertItem</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>
            </div>
<div class="viewcode-block" id="MyListCtrl.OnSize"><a class="viewcode-back" href="../../src.html#src.gui.MyListCtrl.OnSize">[docs]</a>    <span class="k">def</span> <span class="nf">OnSize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">GetSize</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetColumnWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">size</span><span class="o">.</span><span class="n">x</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">event</span><span class="o">.</span><span class="n">Skip</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="MyListCtrl.OnFocus"><a class="viewcode-back" href="../../src.html#src.gui.MyListCtrl.OnFocus">[docs]</a>    <span class="k">def</span> <span class="nf">OnFocus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetItemBackgroundColour</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;red&#39;</span><span class="p">)</span>
        </div>
<div class="viewcode-block" id="MyListCtrl.OnSelect"><a class="viewcode-back" href="../../src.html#src.gui.MyListCtrl.OnSelect">[docs]</a>    <span class="k">def</span> <span class="nf">OnSelect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">selected</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">GetIndex</span><span class="p">()</span>
        <span class="n">selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetItemText</span><span class="p">(</span><span class="n">selected</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">listctrl_selected</span><span class="p">(</span><span class="n">selected</span><span class="p">)</span>
</div></div>
<div class="viewcode-block" id="Reader"><a class="viewcode-back" href="../../src.html#src.gui.Reader">[docs]</a><span class="k">class</span> <span class="nc">Reader</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">):</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">controller</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list_controls</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="c">#        self.SetSize((500,500))</span>
        <span class="n">vbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">splitter</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SplitterWindow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">SP_LIVE_UPDATE</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">SP_NOBORDER</span><span class="p">)</span>
        <span class="n">leftSplitter</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SplitterWindow</span><span class="p">(</span><span class="n">splitter</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">SP_LIVE_UPDATE</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">SP_NOBORDER</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;leftSplitter&#39;</span><span class="p">)</span>
        <span class="n">rightSplitter</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">SplitterWindow</span><span class="p">(</span><span class="n">splitter</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">SP_LIVE_UPDATE</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">SP_NOBORDER</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;rightSplitter&#39;</span><span class="p">)</span>

        <span class="n">panel_arg_dicts</span> <span class="o">=</span> <span class="p">({</span><span class="s">&#39;parent&#39;</span><span class="p">:</span><span class="n">leftSplitter</span><span class="p">,</span><span class="s">&#39;name&#39;</span><span class="p">:</span><span class="s">&#39;l&#39;</span><span class="p">,</span><span class="s">&#39;text&#39;</span><span class="p">:</span><span class="s">&#39;Lattice Size&#39;</span><span class="p">},</span>
                           <span class="p">{</span><span class="s">&#39;parent&#39;</span><span class="p">:</span><span class="n">leftSplitter</span><span class="p">,</span><span class="s">&#39;name&#39;</span><span class="p">:</span><span class="s">&#39;t&#39;</span><span class="p">,</span><span class="s">&#39;text&#39;</span><span class="p">:</span><span class="s">&#39;Temperature&#39;</span><span class="p">},</span>
                           <span class="p">{</span><span class="s">&#39;parent&#39;</span><span class="p">:</span><span class="n">rightSplitter</span><span class="p">,</span><span class="s">&#39;name&#39;</span><span class="p">:</span><span class="s">&#39;mc&#39;</span><span class="p">,</span><span class="s">&#39;text&#39;</span><span class="p">:</span><span class="s">&#39;Simulation paths&#39;</span><span class="p">},</span>
                           <span class="p">{</span><span class="s">&#39;parent&#39;</span><span class="p">:</span><span class="n">rightSplitter</span><span class="p">,</span><span class="s">&#39;name&#39;</span><span class="p">:</span><span class="s">&#39;therm&#39;</span><span class="p">,</span><span class="s">&#39;text&#39;</span><span class="p">:</span><span class="s">&#39;Lattice Sweeps&#39;</span><span class="p">})</span>
        <span class="n">panels</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">panel_args</span> <span class="ow">in</span> <span class="n">panel_arg_dicts</span><span class="p">:</span>
            <span class="n">panels</span><span class="p">[</span><span class="n">panel_args</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]]</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_listctrl_panel</span><span class="p">(</span><span class="o">**</span><span class="n">panel_args</span><span class="p">)</span>

        <span class="n">leftSplitter</span><span class="o">.</span><span class="n">SplitVertically</span><span class="p">(</span><span class="n">panels</span><span class="p">[</span><span class="s">&#39;l&#39;</span><span class="p">],</span><span class="n">panels</span><span class="p">[</span><span class="s">&#39;t&#39;</span><span class="p">])</span>
        <span class="n">rightSplitter</span><span class="o">.</span><span class="n">SplitVertically</span><span class="p">(</span><span class="n">panels</span><span class="p">[</span><span class="s">&#39;mc&#39;</span><span class="p">],</span><span class="n">panels</span><span class="p">[</span><span class="s">&#39;therm&#39;</span><span class="p">])</span>
        <span class="n">splitter</span><span class="o">.</span><span class="n">SplitHorizontally</span><span class="p">(</span><span class="n">leftSplitter</span><span class="p">,</span><span class="n">rightSplitter</span><span class="p">)</span>

      
        <span class="bp">self</span><span class="o">.</span><span class="n">Bind</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">EVT_TOOL</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ExitApp</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        
        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">splitter</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">TOP</span> <span class="o">|</span> <span class="n">wx</span><span class="o">.</span><span class="n">BOTTOM</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span>
        <span class="n">hbox</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">HORIZONTAL</span><span class="p">)</span>
        <span class="n">hbox</span><span class="o">.</span><span class="n">AddStretchSpacer</span><span class="p">()</span>

        <span class="n">vbox</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">hbox</span><span class="p">,</span><span class="n">flag</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">ALIGN_RIGHT</span><span class="o">|</span><span class="n">wx</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span><span class="n">border</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">vbox</span><span class="p">)</span>
        


<div class="viewcode-block" id="Reader.make_listctrl_panel"><a class="viewcode-back" href="../../src.html#src.gui.Reader.make_listctrl_panel">[docs]</a>    <span class="k">def</span> <span class="nf">make_listctrl_panel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">parent</span><span class="p">,</span><span class="n">text</span><span class="p">,</span><span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Vraca panel, i dodaje konkretni listcontrol u dictionary</span>
<span class="sd">        parent: roditelj panela koji cemo vracati, u njega ce se ugraditi</span>
<span class="sd">        panel&quot;&quot;&quot;</span>
        <span class="n">vboxL</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">panelL</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">panelLTxt</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="n">panelL</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span>
        <span class="n">panelLTxt</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="s">&#39;#53728c&#39;</span><span class="p">)</span>
        <span class="n">stL</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">StaticText</span><span class="p">(</span><span class="n">panelLTxt</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
        <span class="n">stL</span><span class="o">.</span><span class="n">SetForegroundColour</span><span class="p">(</span><span class="s">&#39;WHITE&#39;</span><span class="p">)</span>

        <span class="n">panelLList</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="n">panelL</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">BORDER_SUNKEN</span><span class="p">)</span>
        <span class="n">vboxLList</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">BoxSizer</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">listL</span> <span class="o">=</span> <span class="n">MyListCtrl</span><span class="p">(</span><span class="n">panelLList</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">controller</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="p">)</span>
        <span class="n">listL</span><span class="o">.</span><span class="n">SetName</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list_controls</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">=</span><span class="n">listL</span>

        <span class="n">vboxLList</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">listL</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>
        <span class="n">panelLList</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">vboxLList</span><span class="p">)</span>
        <span class="n">panelLList</span><span class="o">.</span><span class="n">SetBackgroundColour</span><span class="p">(</span><span class="s">&#39;WHITE&#39;</span><span class="p">)</span>
        <span class="n">vboxL</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">panelLTxt</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>
        <span class="n">vboxL</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">panelLList</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">wx</span><span class="o">.</span><span class="n">EXPAND</span><span class="p">)</span>

        <span class="n">panelL</span><span class="o">.</span><span class="n">SetSizer</span><span class="p">(</span><span class="n">vboxL</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">panelL</span>
</div>
<div class="viewcode-block" id="Reader.disable_choose"><a class="viewcode-back" href="../../src.html#src.gui.Reader.disable_choose">[docs]</a>    <span class="k">def</span> <span class="nf">disable_choose</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_choose</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span></div>
<div class="viewcode-block" id="Reader.enable_choose"><a class="viewcode-back" href="../../src.html#src.gui.Reader.enable_choose">[docs]</a>    <span class="k">def</span> <span class="nf">enable_choose</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_choose</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span></div>
<div class="viewcode-block" id="Reader.unchoose_enabled"><a class="viewcode-back" href="../../src.html#src.gui.Reader.unchoose_enabled">[docs]</a>    <span class="k">def</span> <span class="nf">unchoose_enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">is_enabled</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_unchoose</span><span class="o">.</span><span class="n">Enable</span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span>
        </div>
<div class="viewcode-block" id="Reader.on_unchoose_button"><a class="viewcode-back" href="../../src.html#src.gui.Reader.on_unchoose_button">[docs]</a>    <span class="k">def</span> <span class="nf">on_unchoose_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
        


</div>
<div class="viewcode-block" id="Reader.ExitApp"><a class="viewcode-back" href="../../src.html#src.gui.Reader.ExitApp">[docs]</a>    <span class="k">def</span> <span class="nf">ExitApp</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Reader.populateListControls"><a class="viewcode-back" href="../../src.html#src.gui.Reader.populateListControls">[docs]</a>    <span class="k">def</span> <span class="nf">populateListControls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Prosledjuju se dictionary koji mapira</span>
<span class="sd">        l/t/therm/mc na novi sadrzaj. Uglavnom ce</span>
<span class="sd">        biti jedna prava lista, i ostale prazne.</span>
<span class="sd">        </span>
<span class="sd">        Keyword arguments su:&quot;l,t,therm i mc&quot;&quot;&quot;</span>
        
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">itemlist</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">itemlist</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">list_controls</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">LoadData</span><span class="p">(</span><span class="n">itemlist</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">,</span><span class="n">e</span><span class="p">:</span>
                <span class="n">mvc</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">show_error</span><span class="p">(</span><span class="s">&quot;Pogresan kljuc za listcontrolu&quot;</span><span class="p">,</span><span class="s">&quot;Ovo nije smelo da se desi, report issue!</span><span class="se">\n</span><span class="s">Details: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span><span class="n">e</span><span class="p">)</span>

</div></div>
<div class="viewcode-block" id="App"><a class="viewcode-back" href="../../src.html#src.gui.App">[docs]</a><span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">wx</span><span class="o">.</span><span class="n">App</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">controller</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">controller</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">App</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">*</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<div class="viewcode-block" id="App.OnInit"><a class="viewcode-back" href="../../src.html#src.gui.App.OnInit">[docs]</a>    <span class="k">def</span> <span class="nf">OnInit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Poziva wx.App u okviru inita. Ovde mozemo</span>
<span class="sd">        konfiguracione parametre da prosledimo,i</span>
<span class="sd">        prosledjujemo kontroler gui-ju</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">sys</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">docopt</span> <span class="kn">import</span> <span class="n">docopt</span>
        <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
            <span class="n">simdir</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">docopt</span><span class="p">(</span><span class="n">__doc__</span><span class="p">)</span>
            <span class="n">simdir</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s">&#39;SIMDIR&#39;</span><span class="p">]</span>
        <span class="k">print</span> <span class="n">simdir</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging_level</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">simdir</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">simdir</span><span class="p">):</span>
            <span class="n">dlg</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">DirDialog</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span><span class="n">style</span><span class="o">=</span><span class="n">wx</span><span class="o">.</span><span class="n">DD_DEFAULT_STYLE</span><span class="p">,</span><span class="n">message</span><span class="o">=</span><span class="s">&quot;Where your simulation files are...&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">ShowModal</span><span class="p">()</span> <span class="o">==</span> <span class="n">wx</span><span class="o">.</span><span class="n">ID_OK</span><span class="p">:</span>
                <span class="n">simdir</span><span class="o">=</span><span class="n">dlg</span><span class="o">.</span><span class="n">GetPath</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

            <span class="n">dlg</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">set_simdir</span><span class="p">(</span><span class="n">simdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span> <span class="o">=</span> <span class="n">GraphFrame</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">Show</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">SetTopWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="p">)</span>
        <span class="n">wx</span><span class="o">.</span><span class="n">CallAfter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">application_started</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span></div>
<div class="viewcode-block" id="App.application_started"><a class="viewcode-back" href="../../src.html#src.gui.App.application_started">[docs]</a>    <span class="k">def</span> <span class="nf">application_started</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">application_started</span><span class="p">()</span>
</div></div>
<div class="viewcode-block" id="main"><a class="viewcode-back" href="../../src.html#src.gui.main">[docs]</a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">controller</span> <span class="o">=</span> <span class="n">mvc</span><span class="o">.</span><span class="n">FileManager</span><span class="p">()</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">MainLoop</span><span class="p">()</span></div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>

  
</pre></div>

          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../search.html">search</a>|&nbsp;</li>

          <li><a href="../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Author.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
  </body>
</html>